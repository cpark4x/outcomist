<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Outcomist - Pattern recognition for better decisions">
    <title>Outcomist - Decision Exploration</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="container">
        <header role="banner">
            <h1 class="logo">
                <img src="outcomist-logo.svg" alt="Outcomist" class="logo-image">
            </h1>
            <p class="tagline">Your thinking partner</p>
        </header>

        <main id="main-content" role="main">
            <!-- Progress Stepper (shown during exploration) -->
            <div id="progress-stepper" class="progress-stepper hidden" role="progressbar" aria-label="Decision exploration progress">
                <div class="step" id="step-1" data-step="understanding">
                    <div class="step-circle">
                        <span class="step-number">1</span>
                    </div>
                    <span class="step-label">Understanding</span>
                    <div class="step-line"></div>
                </div>

                <div class="step" id="step-2" data-step="intent">
                    <div class="step-circle">
                        <span class="step-number">2</span>
                    </div>
                    <span class="step-label">Intent</span>
                    <div class="step-line"></div>
                </div>

                <div class="step" id="step-3" data-step="discovery">
                    <div class="step-circle">
                        <span class="step-number">3</span>
                    </div>
                    <span class="step-label">Discovery</span>
                    <div class="step-line"></div>
                </div>

                <div class="step" id="step-4" data-step="recommendation">
                    <div class="step-circle">
                        <span class="step-number">4</span>
                    </div>
                    <span class="step-label">Recommendation</span>
                </div>
            </div>

            <!-- Initial Input Section -->
            <div id="input-section" class="section">
                <label for="decision-input" class="input-label">What decision are you exploring?</label>
                <input
                    type="text"
                    id="decision-input"
                    class="decision-input"
                    placeholder="Describe what you're trying to decide..."
                    autofocus
                    aria-describedby="input-help"
                >
                <span id="input-help" class="sr-only">Enter your decision and press Explore to begin</span>
                <button id="explore-btn" class="primary-btn" aria-label="Start exploration">
                    <span id="explore-btn-text">Explore</span>
                </button>
            </div>

            <!-- Conversation Section -->
            <div id="conversation-section" class="section hidden" aria-live="polite">
                <div id="conversation-history" class="conversation-history"></div>

                <!-- Intent Selection - Refined -->
                <div id="intent-selection" class="intent-selection-refined hidden">
                    <!-- Insight Box - Will be populated dynamically -->
                    <div class="insight-box" id="insight-box">
                        <div class="insight-label">Pattern Detected</div>
                        <div class="insight-text" id="insight-text">
                            <!-- Dynamically populated based on user's decision -->
                        </div>
                        <div class="insight-highlight" id="insight-highlight">
                            <!-- Dynamically populated with key question -->
                        </div>
                    </div>

                    <!-- Question Section -->
                    <div class="question-section">
                        <h2 class="question-text">Choose your path</h2>
                        <p class="question-helper">Pick the option that matches where you are</p>
                    </div>

                    <!-- Choice Cards -->
                    <div class="cards-refined">
                        <button id="intent-validation" class="card-refined" aria-label="Choose validation path">
                            <span class="card-refined-icon">‚öñÔ∏è</span>
                            <h3 class="card-refined-title">Help me decide if I should do this</h3>
                            <p class="card-refined-meta">~10 min ¬∑ 4-5 questions to explore:</p>
                            <ul class="card-refined-questions" id="validation-questions">
                                <li>What constraints or risks exist?</li>
                                <li>What alternatives should I consider?</li>
                                <li>What am I really optimizing for?</li>
                            </ul>
                        </button>

                        <button id="intent-execution" class="card-refined" aria-label="Choose execution path">
                            <span class="card-refined-icon">üéØ</span>
                            <h3 class="card-refined-title">Help me figure out how to do this well</h3>
                            <p class="card-refined-meta">~10 min ¬∑ 4-5 questions to explore:</p>
                            <ul class="card-refined-questions" id="execution-questions">
                                <li>What resources and capabilities do I have?</li>
                                <li>What are the specific execution challenges?</li>
                                <li>What does success look like?</li>
                            </ul>
                        </button>
                    </div>
                </div>

                <!-- User Input Area -->
                <div id="user-input-area" class="user-input-area hidden">
                    <label for="user-response" class="sr-only">Your response</label>
                    <textarea
                        id="user-response"
                        class="user-response-input"
                        placeholder="Type your response..."
                        rows="3"
                        aria-label="Type your response to the question"
                    ></textarea>
                    <button id="submit-response" class="primary-btn">
                        <span id="submit-btn-text">Send</span>
                    </button>
                </div>

                <!-- Proceed Area -->
                <div id="proceed-area" class="proceed-area hidden">
                    <button id="proceed-btn" class="primary-btn proceed-btn">
                        Continue to deeper exploration
                    </button>
                </div>

                <!-- Streaming Cursor -->
                <div id="streaming-cursor" class="cursor hidden" aria-hidden="true"></div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="icons.js"></script>
    <script src="app.js"></script>
</body>
</html>
